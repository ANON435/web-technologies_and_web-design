@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap");

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
    background: #f2f2f2;
    color: #222;
}

/* СТОРІНКА -------------------------------------------------- */

.page {
    max-width: 1100px;
    margin: 32px auto;
    padding: 24px 32px 32px;
    background: #ffffff;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
    border-radius: 16px;
}

.page-header h1 {
    font-size: 26px;
    margin-bottom: 8px;
}

.page-header p {
    font-size: 14px;
    color: #555;
    margin-bottom: 24px;
}

.keyboard-wrapper {
    display: grid;
    row-gap: 16px;
}

/* КЛАВІАТУРА (3-колоночний GRID) --------------------------- */

.keyboard {
    background: #f7f7f7;
    border-radius: 14px;
    padding: 18px;
    border: 1px solid #d9d9d9;
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.7),
                0 10px 18px rgba(0, 0, 0, 0.18);

    display: grid;
    /* Коригуємо ширину колонок для кращого балансу */
    grid-template-columns: 3fr 1fr 1.3fr; /* Було 3fr 1.1fr 1.4fr */
    column-gap: 16px;
}

/* Блоки (лівий / середній / правий) */

.kb-block {
    display: grid;
    /* Зменшення вертикального проміжку між рядками */
    row-gap: 4px; /* Було 6px */
}

/* Ряд клавіш (flex) */

.kb-row {
    display: flex;
    gap: 4px;
}

.row-spacer {
    flex: 0 0 12px;
}

/* Spacer row для вирівнювання стрілок */
.kb-spacer-row {
    height: 36px;
    display: block;
}

/* КЛАВІША --------------------------------------------- */

.key {
    min-width: 32px;
    height: 36px;
    padding: 0 6px;
    border-radius: 4px;
    background: #ffffff;
    border: 1px solid #d0d0d0;
    box-shadow:
        0 2px 0 #b5b5b5,
        0 4px 10px rgba(0, 0, 0, 0.25);
    font-size: 11px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
    transition: background 0.12s ease, transform 0.08s ease,
                box-shadow 0.12s ease, color 0.12s ease;
}

/* Ширини (умовні "u") */

.key-1u   { flex: 0 0 32px; }
.key-1_25u{ flex: 0 0 40px; }
.key-1_5u { flex: 0 0 48px; }
.key-1_75u{ flex: 0 0 56px; }
.key-2u   { flex: 0 0 64px; }
.key-2u-gap{ flex: 0 0 68px; } /* 2u + 1 gap = 64px + 4px = 68px (для NumPad 0) */
.key-2_25u{ flex: 0 0 72px; }
.key-2_75u{ flex: 0 0 88px; }
.key-6_25u{ flex: 0 0 220px; }

/* Високі клавіші на NumPad */

.key-tall {
    /* 2x36px (клавіші) + 1x4px (gap) = 76px */
    height: 76px; /* Було 78px */
}

/* Клавіша-заглушка для вирівнювання стрілок */
.key-placeholder {
    background: transparent;
    border: none;
    box-shadow: none;
    cursor: default;
}


/* ... (інші стилі станів, легенди і т.д. залишаються без змін) ... */
.key-space {
    text-transform: uppercase;
    font-size: 10px;
    letter-spacing: 0.12em;
}

.key:hover {
    background: #f3f3f3;
}

.key:active {
    transform: translateY(2px);
    box-shadow:
        0 1px 0 #999,
        0 2px 6px rgba(0, 0, 0, 0.3);
}

.key-pressed {
    background: #e1f1ff;
    color: #0b4c8c;
    box-shadow:
        inset 0 2px 4px rgba(0, 0, 0, 0.25),
        0 1px 0 #b0b0b0;
}

.key-disabled {
    background: #ebebeb;
    color: #9b9b9b;
    border-color: #d6d6d6;
    box-shadow: none;
    cursor: default;
}

.key-accent {
    color: #b00020;
    font-weight: 600;
}

.arrow {
    font-size: 13px;
}

.kb-row-arrows {
    justify-content: center;
}

/* ЛЕГЕНДА --------------------------------------------- */

.legend {
    display: flex;
    flex-wrap: wrap;
    gap: 12px 24px;
    font-size: 12px;
    color: #555;
    margin-top: 4px;
}

.legend-box {
    display: inline-block;
    width: 24px;
    height: 14px;
    border-radius: 4px;
    margin-right: 6px;
    vertical-align: middle;
    border: 1px solid #ccc;
}

.legend-normal   { background: #ffffff; }
.legend-hover    { background: #f3f3f3; }
.legend-active   { background: #e1f1ff; }
.legend-disabled { background: #ebebeb; }

/* Адаптивність (зменшення масштабу на вузьких екранах) */

@media (max-width: 900px) {
    .page {
        margin: 16px;
        padding: 16px;
    }

    .keyboard {
        transform: scale(0.9);
        transform-origin: top center;
    }
}